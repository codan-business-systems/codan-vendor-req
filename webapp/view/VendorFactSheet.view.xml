<mvc:View xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:semantic="sap.m.semantic" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core"
	xmlns:suite="sap.suite.ui.commons" xmlns:l="sap.ui.layout" xmlns:codan="req.vendor.codan.control"
	controllerName="req.vendor.codan.controller.VendorFactSheet">
	<semantic:FullscreenPage id="vendorFactSheetPage" navButtonPress="onNavBack" showNavButton="true" title="{i18n>factSheetViewTitle}"
		busy="{detailView>/busy}" busyIndicatorDelay="{detailView>/delay}">
		<semantic:content>
			<Toolbar>
				<ToolbarSpacer/>
				<Button type="{= ${detailView>/editMode} ? 'Reject' : 'Emphasized' }" visible="{= ${detailView>/existingVendor} }"
					text="{= ${detailView>/editMode} ? ${i18n>btnCancel} : ${i18n>btnRequestUpdate} }" press="toggleEditMode"/>
			</Toolbar>
			<ObjectHeader title="{name1} ({vendorId})" condensed="true" id="factSheetObjectHeader" backgroundDesign="Transparent"
				visible="{detailView>/existingVendor}">
				<attributes>
					<ObjectAttribute title="Company Codes" text="{companyCodes}"/>
				</attributes>
			</ObjectHeader>
			<MessageStrip text="{i18n>newVendorExplainText}" visible="{= !${detailView>/existingVendor} }" type="Information" showIcon="true"/>
			<MessageStrip text="{detailView>/existingVendorMessage}" visible="{= !!${detailView>/existingVendorMessage} }" type="{detailView>/existingVendorMessageType}" showIcon="true"/>
			<HBox width="100%" height="auto" class="zEqualHeightFlexBox">
				<!--<VBox width="50%" height="100%">-->
					<Panel id="basicDetailPanel" class="zEqualHeightPanel">
						<f:SimpleForm editable="true" adjustLabelSpan="false" id="modifyVendorBasicDetail" layout="ResponsiveGridLayout" backgroundDesign="Solid"
							width="auto" columnsM="12" columnsL="12" columnsXL="12" emptySpanXL="0" emptySpanL="0" emptySpanM="0" labelSpanL="4" labelSpanS="4"
							labelSpanM="4" labelSpanXL="4" maxContainerCols="12" height="100%">
							<f:toolbar>
								<Toolbar>
									<Title text="Basic Detail"/>
									<ToolbarSpacer/>
									<core:Icon src="sap-icon://sys-help" tooltip="{i18n>basicDetailsHelpText}"/>
								</Toolbar>
							</f:toolbar>
							<f:content>
								<Label id="employeeLabel" text="Vendor is an Employee" labelFor="employeeSwitch">
									<layoutData>
										<l:GridData id="employeeGridData" span="L4 M4 S4"/>
									</layoutData>
								</Label>
								<Switch id="employeeSwitch" state="{= ${vendorType} === 'E'}"
									enabled="{= ${detailView>/editMode} &amp;&amp; !${detailView>/existingVendor} }" change="employeeTypeChange"/>
								<Label id="name1Label" text="{i18n>lblName1}" labelFor="name1" required="{detailView>/editMode}"/>
								<Input id="name1" value="{name1}" editable="{detailView>/editMode}" change="checkDuplicateName"/>
								<Label id="name12Label" text="{i18n>lblName2}" labelFor="name2"/>
								<Input id="name2" value="{name2}" editable="{detailView>/editMode}"/>
								<Label id="searchTermLabel" text="{i18n>lblSearchTerm}" labelFor="searchTerm" required="{detailView>/editMode}"/>
								<Input id="searchTerm" value="{searchTerm}" editable="{detailView>/editMode}" maxLength="10"/>
								<Label id="abnLabel" text="{i18n>lblABN}" labelFor="abn" visible="{= ${vendorType} !== 'E'}"
									required="{= ${detailView>/editMode} &amp;&amp; ${country} === 'AU' }"/>
								<codan:AbnInput id="abn" value="{abn}" editable="{detailView>/editMode}" visible="{= ${vendorType} !== 'E'}" change="checkDuplicateAbn"/>
								<Label id="filler1" labelFor="filler1Dummy"/>
								<Input id="filler1Dummy" editable="false"/>
								<Label id="filler2" labelFor="filler2Dummy" visible="{= ${vendorType} === 'E'}"/>
								<Input id="filler2Dummy" editable="false" visible="{= ${vendorType} === 'E'}"/>
							</f:content>
						</f:SimpleForm>
					</Panel>
				<!--</VBox>
				<VBox width="50%" height="100%">-->
					<Panel id="contactDetailsPanel" class="zEqualHeightPanel">
						<f:SimpleForm editable="true" adjustLabelSpan="false" id="purchasingContactDetails" layout="ResponsiveGridLayout" backgroundDesign="Solid"
							width="auto" columnsM="12" columnsL="12" columnsXL="12" emptySpanXL="0" emptySpanL="0" emptySpanM="0" labelSpanL="4" labelSpanS="4"
							labelSpanM="4" labelSpanXL="4" maxContainerCols="12" height="100%">
							<f:toolbar>
								<Toolbar>
									<Title text="Purchasing Details"/>
									<ToolbarSpacer/>
									<core:Icon src="sap-icon://sys-help" tooltip="{i18n>purchaseContactDetailsHelpText}"/>
								</Toolbar>
							</f:toolbar>
							<f:content>
								<Label id="purchTelLabel" text="{i18n>lblPurchTel}" labelFor="purchTel"
									required="{= ${detailView>/editMode} &amp;&amp; ${vendorType} !== 'E' }"/>
								<Input id="purchTel" value="{purchTel}" editable="{detailView>/editMode}"/>
								<Label id="purchEmailLabel" text="{i18n>lblPurchEmail}" labelFor="purchEmail"
									required="{= ${detailView>/editMode} &amp;&amp; ${vendorType} !== 'E' }"/>
								<Input id="purchEmail" value="{purchEmail}" editable="{detailView>/editMode}"/>
							</f:content>
						</f:SimpleForm>
						
						<f:SimpleForm editable="true" adjustLabelSpan="false" id="ContactDetails" layout="ResponsiveGridLayout" backgroundDesign="Solid"
							width="auto" columnsM="12" columnsL="12" columnsXL="12" emptySpanXL="0" emptySpanL="0" emptySpanM="0" labelSpanL="4" labelSpanS="4"
							labelSpanM="4" labelSpanXL="4" maxContainerCols="12" height="100%">
							<f:toolbar>
								<Toolbar>
									<Title text="Accounts Details"/>
									<ToolbarSpacer/>
									<core:Icon src="sap-icon://sys-help" tooltip="{i18n>accountContactDetailsHelpText}"/>
								</Toolbar>
							</f:toolbar>
							<f:content>
								<Label id="accountsTelLabel" text="{i18n>lblAccountsTel}" labelFor="accountsTel" required="{detailView>/editMode}"/>
								<Input id="accountsTel" value="{accountsTel}" editable="{detailView>/editMode}"/>
								<Label id="accountsEmailLabel" text="{i18n>lblAccountsEmail}" labelFor="accountsEmail" required="{detailView>/editMode}"/>
								<Input id="accountsEmail" value="{accountsEmail}" editable="{detailView>/editMode}" required="{detailView>/editMode}"/>	
							</f:content>
						</f:SimpleForm>
						
					</Panel>
				<!--</VBox>-->
			</HBox>
			<HBox width="100%">
				<VBox width="50%" height="100%">
					<Panel id="streetAddressPanel">
						<f:SimpleForm editable="true" adjustLabelSpan="false" id="modifyVendorStreetAddress" layout="ResponsiveGridLayout" backgroundDesign="Solid"
							width="auto" columnsM="12" columnsL="12" columnsXL="12" emptySpanXL="0" emptySpanL="0" emptySpanM="0" labelSpanL="4" labelSpanS="4"
							labelSpanM="4" labelSpanXL="4" maxContainerCols="12" height="100%">
							<f:toolbar>
								<Toolbar>
									<Title text="Street Address"/>
									<ToolbarSpacer/>
									<core:Icon src="sap-icon://sys-help" tooltip="{i18n>streetAddressHelpText}"/>
								</Toolbar>
							</f:toolbar>
							<f:content>
								<Label id="countryLabel" text="{i18n>lblCountry}" labelFor="country" required="{detailView>/editMode}"/>
								<ComboBox id="country" enabled="{detailView>/editMode}" selectedKey="{country}" items="{path: 'countries>/', sorter: { path: 'name' } }"
									change="countryChange">
									<core:Item text="{countries>name}" key="{countries>key}"/>
								</ComboBox>
								<Label id="streetLabel" text="{i18n>lblStreet}" labelFor="street"/>
								<Input id="houseNum1" maxLength="10" width="6rem" value="{houseNo}" editable="{detailView>/editMode}">
									<layoutData>
										<l:GridData id="houseNumGridData" span="L2 M2 S2"/>
									</layoutData>
								</Input>
								<Input id="street" maxLength="30" value="{street}" editable="{detailView>/editMode}"/>
								<Label id="cityLabel" text="{i18n>lblCity}" labelFor="city"/>
								<Input id="city" value="{city}" editable="{detailView>/editMode}"/>
								<Label id="regionLabel" text="{i18n>lblRegion}" labelFor="region"/>
								<Select id="region" enabled="{detailView>/editMode}" selectedKey="{region}" items="{path: 'regions>/', sorter: { path: 'name' }}">
									<core:Item text="{regions>name}" key="{regions>key}"/>
								</Select>
								<Label id="lblPostcode" text="{i18n>lblPostcode}" labelFor="postcode"/>
								<Input id="postcode" value="{postcode}" editable="{detailView>/editMode}"/>
							</f:content>
						</f:SimpleForm>
					</Panel>
				</VBox>
				<VBox width="50%" height="100%">
					<Panel id="postalAddressPanel">
						<f:SimpleForm editable="true" adjustLabelSpan="false" id="modifyVendorPostalAddress" layout="ResponsiveGridLayout" backgroundDesign="Solid"
							width="auto" columnsM="12" columnsL="12" columnsXL="12" emptySpanXL="0" emptySpanL="0" emptySpanM="0" labelSpanL="4" labelSpanS="4"
							labelSpanM="4" labelSpanXL="4" maxContainerCols="12" height="100%">
							<f:toolbar>
								<Toolbar>
									<Title text="Postal Address"/>
									<ToolbarSpacer/>
									<core:Icon src="sap-icon://sys-help" tooltip="{i18n>postalAddressHelpText}"/>
								</Toolbar>
							</f:toolbar>
							<f:content>
								<Label id="poBoxDummy" labelFor="poDummy"/>
								<Input id="poDummy" editable="false"/>
								<Label id="poBoxLabel" text="{i18n>lblPoBox}" labelFor="poBox"/>
								<Input id="poBox" maxLength="10" value="{poBox}" editable="{detailView>/editMode}"/>
								<Label id="poBoxCityLabel" text="{i18n>poBoxCity}" labelFor="poBoxCity"/>
								<Input id="poBoxCity" maxLength="40" value="{poBoxCity}" editable="{detailView>/editMode}"/>
								<Label id="poBoxRegionLabel" text="{i18n>lblRegion}" labelFor="poBoxRegion"/>
								<Select id="poBoxRegion" enabled="{detailView>/editMode}" selectedKey="{poBoxRegion}" items="{path: 'regions>/', sorter: { path: 'name' }}">
									<core:Item text="{regions>name}" key="{regions>key}"/>
								</Select>
								<Label id="poBoxPostcodeLabel" text="{i18n>lblPostcode}" labelFor="poBoxPostcode"/>
								<Input id="poBoxPostcode" value="{poBoxPostcode}" editable="{detailView>/editMode}"/>
							</f:content>
						</f:SimpleForm>
					</Panel>
				</VBox>
			</HBox>
			<HBox width="100%" height="auto" class="zEqualHeightFlexBox">
				<Panel id="paymentMethodsPanel">
					<f:SimpleForm editable="true" adjustLabelSpan="false" id="modifyVendorPaymentMethods" layout="ResponsiveGridLayout" backgroundDesign="Solid"
						width="auto" columnsM="12" columnsL="12" columnsXL="12" emptySpanXL="0" emptySpanL="0" emptySpanM="0" labelSpanL="4" labelSpanS="4"
						labelSpanM="4" labelSpanXL="4" maxContainerCols="12" height="100%" class="paymentMethodsForm">
						<f:toolbar>
							<Toolbar>
								<Title text="Payments"/>
								<ToolbarSpacer/>
								<core:Icon src="sap-icon://sys-help" tooltip="{i18n>paymentsHelpText}"/>
							</Toolbar>
						</f:toolbar>
						<f:content>
							<Label labelFor="paymentMethodsTable" text="Payment Methods" required="true"/>
							<Table id="paymentMethodsTable" items="{detailView>/paymentMethods}" class="sapUiSizeCompact"
								busyIndicatorDelay="{detailView>/tableBusyDelay}" fixedLayout="false" width="auto" height="100%">
								<!--<headerToolbar>
										<Toolbar>
											<Title text="{i18n>txtCompanyCodes}"/>
										</Toolbar>
									</headerToolbar>-->
								<columns>
									<Column id="colCompanyCode"/>
									<Column id="colStockProcurement"/>
								</columns>
								<items>
									<ColumnListItem type="Inactive">
										<ObjectIdentifier text="{detailView>paymentMethodText} ({detailView>paymentMethodCode})"/>
										<Switch state="{detailView>paymentMethodActive}" enabled="{detailView>/editMode}" change="paymentMethodChange"/>
									</ColumnListItem>
								</items>
							</Table>
							<Label id="labelPaymentTerms" text="Payment Terms" labelFor="paymentTerms"/>
							<ComboBox id="paymentTerms" selectedKey="{paymentTerms}" enabled="{detailView>/editMode}"
								items="{detailView>/paymentTerms}" change="checkPaymentTerms"
								maxLength="4">
								<core:Item text="{detailView>paymentTermsKey} ({detailView>paymentTermsText})" key="{detailView>paymentTermsKey}"/>
							</ComboBox>
							<Label id="currencyLabel" text="{i18n>lblCurrency}" labelFor="currency" required="{detailView>/editMode}"/>
							<ComboBox id="currency" enabled="{detailView>/editMode}" selectedKey="{currency}"
								items="{path: '/ValueHelpResults', filters: { path: 'property', operator: 'EQ', value1: 'currency' } }">
								<core:Item text="{key} ({value})" key="{key}"/>
							</ComboBox>
						</f:content>
					</f:SimpleForm>
				</Panel>
				<Panel id="bankDetailsPanel" height="100%" class="zEqualHeightPanel">
					<f:SimpleForm editable="true" adjustLabelSpan="false" id="modifyVendorBankDetails" layout="ResponsiveGridLayout" backgroundDesign="Solid"
						width="auto" columnsM="12" columnsL="12" columnsXL="12" emptySpanXL="0" emptySpanL="0" emptySpanM="0" labelSpanL="4" labelSpanS="4"
						labelSpanM="4" labelSpanXL="4" maxContainerCols="12" height="100%">
						<f:toolbar>
							<Toolbar>
								<Title text="Bank Details"/>
								<ToolbarSpacer/>
								<core:Icon src="sap-icon://sys-help" tooltip="{i18n>showHelpTooltip}" press="showBankDetailsHelp"/>
							</Toolbar>
						</f:toolbar>
						<f:content>
							<Label id="editBankDetailsLabel" text="{i18n>lblChangeBankDetails}" labelFor="editBankDetailsSwitch">
								<layoutData>
									<l:GridData id="bankSwitchGridData" span="L4 M4 S4"/>
								</layoutData>
							</Label>
							<Switch id="editBankDetailsSwitch" state="{detailView>/editBankDetails}"
								enabled="{= ${detailView>/editMode} &amp;&amp; !${detailView>/bankDetailsLocked} }" change="editBankDetailsChange"/>
							<Label id="accountNameLabel" text="{i18n>lblAccountName}" labelFor="accountName"
								required="{= ${detailView>/editMode} &amp;&amp; ${detailView>/editBankDetails} }"/>
							<Input id="accountName" value="{accountName}" editable="{detailView>/editBankDetails}"/>
							<Label id="bankCountryLabel" text="{i18n>lblBankCountry}" labelFor="bankCountry"
								required="{= ${detailView>/editMode} &amp;&amp; ${detailView>/editBankDetails} }"/>
							<ComboBox id="bankCountry" enabled="{detailView>/editBankDetails}" selectedKey="{accountCountry}" change="onBankCountryChange"
								items="{path: 'countries>/', sorter: { path: 'name' } }">
								<core:Item text="{countries>name}" key="{countries>key}"/>
							</ComboBox>
							<Label id="bankKeyLabel" text="{i18n>lblBankKey}" labelFor="bankKey"
								required="{= ${detailView>/editMode} &amp;&amp; ${detailView>/editBankDetails} }"/>
							<Input id="bankKey" enabled="{= ${detailView>/editBankDetails} &amp;&amp; !!${accountCountry} }" showSuggestion="true"
								suggestionItems="{detailView>/banks}" change="checkAccountKey" value="{accountBankKey}">
								<core:Item text="{detailView>bankKey} ({detailView>bankName})" key="{detailView>bankKey}"/>
							</Input>
							<Label id="bankSwiftKeyLabel" text="Swift Key" labelFor="bankSwiftKey"
								visible="{= !!${accountCountry} &amp;&amp; ${accountCountry} !== 'AU' }" required="true"/>
							<Input id="bankSwiftKey" enabled="{= ${detailView>/editBankDetails} &amp;&amp; !!${accountCountry} }"
								visible="{= !!${accountCountry} &amp;&amp; ${accountCountry} !== 'AU' }" value="{bankSwiftCode}"/>
							<Label id="accountNumberLabel" text="{i18n>lblAccountNo}" labelFor="accountNumber"
								required="{= ${detailView>/editMode} &amp;&amp; ${detailView>/editBankDetails} }"/>
							<Input id="accountNumber" value="{accountNumber}" editable="{= ${detailView>/editMode} &amp;&amp; !!${accountCountry} }"
								change="checkDuplicateBank"/>
							<Label id="accountIbanLabel" text="IBAN" labelFor="accountIban" visible="{= !!${accountCountry} &amp;&amp; ${accountCountry} !== 'AU' }"
								required="true"/>
							<Input id="accountIban" value="{accountIban}" visible="{= !!${accountCountry} &amp;&amp; ${accountCountry} !== 'AU' }"
								editable="{= ${detailView>/editMode} &amp;&amp; !!${accountCountry} }"/>
						</f:content>
					</f:SimpleForm>
				</Panel>
			</HBox>
			<Panel>
				<HBox alignContent="Center">
					<Table id="attachmentRequirements" visible="{= ${detailView>/attachmentsRequired} &amp;&amp; ${detailView>/editMode} }"
						items="{detailView>/attachmentRequirements}" width="80%" class="attachmentRequirementsTable" headerText="Attachments Required">
						<columns>
							<Column width="90%">
								<Text text="Description"/>
							</Column>
							<Column>
								<Text text="Complete"/>
							</Column>
						</columns>
						<items>
							<ColumnListItem>
								<Text text="{detailView>description}"/>
								<Switch state="{detailView>complete}" type="AcceptReject"/>
							</ColumnListItem>
						</items>
					</Table>
				</HBox>
				<codan:UploadCollection width="100%" id="attachments" visible="{detailView>/editMode}" multiple="false" items="{ToAttachments}"
					maximumFilenameLength="0" maximumFileSize="0" change="changeAttachment" fileDeleted="deleteAttachment" uploadComplete="uploadComplete"
					noDataText="{i18n>txtNoAttachments}" uploadEnabled="true" busy="{detailView>/attachmentsBusy}" suppressUpload="{= !${id} }"
					fakeUploadPress="showSaveConfirmation">
					<codan:items>
						<UploadCollectionItem contributor="{createdByName}" documentId="{attachmentId}" fileName="{fileName}" 
							mimeType="{mimeType}" visibleEdit="false" url="/sap/opu/odata/sap/z_vendor_req_srv/Attachments('{attachmentId}')/$value"/>
					</codan:items>
				</codan:UploadCollection>
			</Panel>
			<Panel visible="{detailView>/editMode}">
				<f:SimpleForm editable="true" adjustLabelSpan="false" id="modifyRequestNotes" layout="ResponsiveGridLayout" backgroundDesign="Solid"
					width="auto" columnsM="12" columnsL="12" columnsXL="12" emptySpanXL="0" emptySpanL="0" emptySpanM="0" labelSpanL="4" labelSpanS="4"
					labelSpanM="4" labelSpanXL="4" maxContainerCols="12" height="100%">
					<f:toolbar>
						<Toolbar>
							<Title text="Notes"/>
						</Toolbar>
					</f:toolbar>
					<f:content>
						<TextArea id="requestNotes" rows="5" growing="true" value="{notes}" width="100%"/>
					</f:content>
				</f:SimpleForm>
			</Panel>
		</semantic:content>
		<semantic:saveAction>
			<semantic:SaveAction press="onSave" visible="{detailView>/editMode}"/>
		</semantic:saveAction>
		<semantic:customFooterContent>
			<Button text="{detailView>/submitAction}" press="onSubmit" type="Emphasized" visible="{= ${detailView>/editMode} &amp;&amp; !${status}}"/>
		</semantic:customFooterContent>
		<semantic:messagesIndicator>
			<semantic:MessagesIndicator visible="{detailView>/editMode}" press="displayMessagesPopover"/>
		</semantic:messagesIndicator>
		<semantic:negativeAction>
			<semantic:NegativeAction visible="{= ${detailView>/editMode} &amp;&amp; !!${id} }" text="Delete" press="deleteRequest"/>
		</semantic:negativeAction>
	</semantic:FullscreenPage>
</mvc:View>